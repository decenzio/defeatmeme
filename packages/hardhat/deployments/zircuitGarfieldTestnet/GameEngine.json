{
  "address": "0x69F9B8d3Fa223A500AA94704DA7dFF43e0538f29",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_planetNFT",
          "type": "address"
        },
        {
          "internalType": "uint8",
          "name": "_enemyTypesCount",
          "type": "uint8"
        },
        {
          "internalType": "uint8",
          "name": "_waveCount",
          "type": "uint8"
        },
        {
          "internalType": "uint8",
          "name": "_waveSize",
          "type": "uint8"
        },
        {
          "internalType": "uint40",
          "name": "_timeoutBlocks",
          "type": "uint40"
        },
        {
          "internalType": "address",
          "name": "trustedForwarder",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "planetId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "dayId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "seed",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint40",
          "name": "startBlock",
          "type": "uint40"
        },
        {
          "indexed": false,
          "internalType": "uint40",
          "name": "endBlock",
          "type": "uint40"
        },
        {
          "indexed": false,
          "internalType": "uint8[]",
          "name": "counts",
          "type": "uint8[]"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalDefeats",
          "type": "uint256"
        }
      ],
      "name": "GameCompleted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "BPS",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "FEE_BPS",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "TIMEOUT_BLOCKS",
      "outputs": [
        {
          "internalType": "uint40",
          "name": "",
          "type": "uint40"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "TOTAL_ENEMIES",
      "outputs": [
        {
          "internalType": "uint16",
          "name": "",
          "type": "uint16"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "WAVE_COUNT",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "WAVE_SIZE",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "dayId",
          "type": "uint256"
        }
      ],
      "name": "claim",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "name": "dailyDefeats",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "dayPayoutPool",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "daySettled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "dayWinnersStake",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "dayWinningCoin",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "disablePriceFeeds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "enemyTypesCount",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "feeBasisPoints",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        }
      ],
      "name": "getActiveSession",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "seed",
          "type": "bytes32"
        },
        {
          "internalType": "uint40",
          "name": "startBlock",
          "type": "uint40"
        },
        {
          "internalType": "uint40",
          "name": "deadline",
          "type": "uint40"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "dayId",
          "type": "uint256"
        }
      ],
      "name": "getDayInfo",
      "outputs": [
        {
          "internalType": "bool",
          "name": "settled",
          "type": "bool"
        },
        {
          "internalType": "uint8",
          "name": "winningCoin",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "totalPool",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "stakesPerCoin",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "defeatsPerCoin",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLatestPrices",
      "outputs": [
        {
          "internalType": "int256",
          "name": "ethPrice",
          "type": "int256"
        },
        {
          "internalType": "int256",
          "name": "btcPrice",
          "type": "int256"
        },
        {
          "internalType": "int256",
          "name": "pufEthPrice",
          "type": "int256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getMySchedule",
      "outputs": [
        {
          "internalType": "uint8[]",
          "name": "seq",
          "type": "uint8[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "getPlay",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "seed",
          "type": "bytes32"
        },
        {
          "internalType": "uint40",
          "name": "startBlock",
          "type": "uint40"
        },
        {
          "internalType": "uint40",
          "name": "endBlock",
          "type": "uint40"
        },
        {
          "internalType": "uint8[]",
          "name": "counts",
          "type": "uint8[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        }
      ],
      "name": "getPlaysCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        }
      ],
      "name": "getScheduleFor",
      "outputs": [
        {
          "internalType": "uint8[]",
          "name": "seq",
          "type": "uint8[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "dayId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserStake",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "stakesPerCoin",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        }
      ],
      "name": "hasActiveSession",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "hasClaimed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "forwarder",
          "type": "address"
        }
      ],
      "name": "isTrustedForwarder",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint8",
          "name": "coinId",
          "type": "uint8"
        }
      ],
      "name": "placeBet",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "planetNFT",
      "outputs": [
        {
          "internalType": "contract IPlanetNFT",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "priceFeedsEnabled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint8",
          "name": "newCount",
          "type": "uint8"
        }
      ],
      "name": "setEnemyTypesCount",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ethPriceFeed",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_btcPriceFeed",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_pufEthPriceFeed",
          "type": "address"
        }
      ],
      "name": "setPriceFeeds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "dayId",
          "type": "uint256"
        }
      ],
      "name": "settleDay",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "name": "stakedPerCoin",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "startGame",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint8[]",
          "name": "counts",
          "type": "uint8[]"
        }
      ],
      "name": "submitResults",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "totalStaked",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "name": "userStakePerCoin",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x024e0d52c3084f74901c36d019477b3fb61eed75176a3fe7568cc24118cdfe37",
  "receipt": {
    "to": null,
    "from": "0x18146faA123A740Ee1EFC935d07208930d9018C2",
    "contractAddress": "0x69F9B8d3Fa223A500AA94704DA7dFF43e0538f29",
    "transactionIndex": 1,
    "gasUsed": "2448437",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000001000000000000000000000000000000000000020000000000000000000800000000000000000000000000000000400000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000020004000200000000000000000000000000000000000000000000000000000008000",
    "blockHash": "0x2dc724dd35b89759ee74121a65269946d7fe97101165ddc6b69c429937e167e4",
    "transactionHash": "0x024e0d52c3084f74901c36d019477b3fb61eed75176a3fe7568cc24118cdfe37",
    "logs": [
      {
        "transactionIndex": 1,
        "blockNumber": 8434572,
        "transactionHash": "0x024e0d52c3084f74901c36d019477b3fb61eed75176a3fe7568cc24118cdfe37",
        "address": "0x69F9B8d3Fa223A500AA94704DA7dFF43e0538f29",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x00000000000000000000000018146faa123a740ee1efc935d07208930d9018c2"
        ],
        "data": "0x",
        "logIndex": 0,
        "blockHash": "0x2dc724dd35b89759ee74121a65269946d7fe97101165ddc6b69c429937e167e4"
      }
    ],
    "blockNumber": 8434572,
    "cumulativeGasUsed": "2496908",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x2d0D35d407f45Bc5DCd79Ca0a27f5a003d5cec60",
    9,
    10,
    5,
    40,
    "0xE7806B788DEDd5a76e8D7b392167d276C55a6840"
  ],
  "numDeployments": 1,
  "solcInputHash": "e5a207a0daf28ca8b5e57ea999df9fc9",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_planetNFT\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"_enemyTypesCount\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"_waveCount\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"_waveSize\",\"type\":\"uint8\"},{\"internalType\":\"uint40\",\"name\":\"_timeoutBlocks\",\"type\":\"uint40\"},{\"internalType\":\"address\",\"name\":\"trustedForwarder\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"planetId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"dayId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"seed\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint40\",\"name\":\"startBlock\",\"type\":\"uint40\"},{\"indexed\":false,\"internalType\":\"uint40\",\"name\":\"endBlock\",\"type\":\"uint40\"},{\"indexed\":false,\"internalType\":\"uint8[]\",\"name\":\"counts\",\"type\":\"uint8[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalDefeats\",\"type\":\"uint256\"}],\"name\":\"GameCompleted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"BPS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FEE_BPS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TIMEOUT_BLOCKS\",\"outputs\":[{\"internalType\":\"uint40\",\"name\":\"\",\"type\":\"uint40\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TOTAL_ENEMIES\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WAVE_COUNT\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WAVE_SIZE\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"dayId\",\"type\":\"uint256\"}],\"name\":\"claim\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"name\":\"dailyDefeats\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"dayPayoutPool\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"daySettled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"dayWinnersStake\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"dayWinningCoin\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"disablePriceFeeds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"enemyTypesCount\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feeBasisPoints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"}],\"name\":\"getActiveSession\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"seed\",\"type\":\"bytes32\"},{\"internalType\":\"uint40\",\"name\":\"startBlock\",\"type\":\"uint40\"},{\"internalType\":\"uint40\",\"name\":\"deadline\",\"type\":\"uint40\"},{\"internalType\":\"bool\",\"name\":\"active\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"dayId\",\"type\":\"uint256\"}],\"name\":\"getDayInfo\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"settled\",\"type\":\"bool\"},{\"internalType\":\"uint8\",\"name\":\"winningCoin\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"totalPool\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"stakesPerCoin\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"defeatsPerCoin\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLatestPrices\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"ethPrice\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"btcPrice\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"pufEthPrice\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMySchedule\",\"outputs\":[{\"internalType\":\"uint8[]\",\"name\":\"seq\",\"type\":\"uint8[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getPlay\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"seed\",\"type\":\"bytes32\"},{\"internalType\":\"uint40\",\"name\":\"startBlock\",\"type\":\"uint40\"},{\"internalType\":\"uint40\",\"name\":\"endBlock\",\"type\":\"uint40\"},{\"internalType\":\"uint8[]\",\"name\":\"counts\",\"type\":\"uint8[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"}],\"name\":\"getPlaysCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"}],\"name\":\"getScheduleFor\",\"outputs\":[{\"internalType\":\"uint8[]\",\"name\":\"seq\",\"type\":\"uint8[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"dayId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getUserStake\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"stakesPerCoin\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"}],\"name\":\"hasActiveSession\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"hasClaimed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"forwarder\",\"type\":\"address\"}],\"name\":\"isTrustedForwarder\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"coinId\",\"type\":\"uint8\"}],\"name\":\"placeBet\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"planetNFT\",\"outputs\":[{\"internalType\":\"contract IPlanetNFT\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceFeedsEnabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"newCount\",\"type\":\"uint8\"}],\"name\":\"setEnemyTypesCount\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ethPriceFeed\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_btcPriceFeed\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_pufEthPriceFeed\",\"type\":\"address\"}],\"name\":\"setPriceFeeds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"dayId\",\"type\":\"uint256\"}],\"name\":\"settleDay\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"name\":\"stakedPerCoin\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"startGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8[]\",\"name\":\"counts\",\"type\":\"uint8[]\"}],\"name\":\"submitResults\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"totalStaked\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"name\":\"userStakePerCoin\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/GameEngine.sol\":\"GameEngine\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner account will be the one that deploys the contract. This\\n * can later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the deployer as the initial owner.\\n     */\\n    constructor() {\\n        _transferOwnership(_msgSender());\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        require(owner() == _msgSender(), \\\"Ownable: caller is not the owner\\\");\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby disabling any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        require(newOwner != address(0), \\\"Ownable: new owner is the zero address\\\");\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xba43b97fba0d32eb4254f6a5a297b39a19a247082a02d6e69349e071e2946218\",\"license\":\"MIT\"},\"@openzeppelin/contracts/metatx/ERC2771Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.4) (metatx/ERC2771Context.sol)\\n\\npragma solidity ^0.8.9;\\n\\nimport \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Context variant with ERC2771 support.\\n *\\n * WARNING: The usage of `delegatecall` in this contract is dangerous and may result in context corruption.\\n * Any forwarded request to this contract triggering a `delegatecall` to itself will result in an invalid {_msgSender}\\n * recovery.\\n */\\nabstract contract ERC2771Context is Context {\\n    /// @custom:oz-upgrades-unsafe-allow state-variable-immutable\\n    address private immutable _trustedForwarder;\\n\\n    /// @custom:oz-upgrades-unsafe-allow constructor\\n    constructor(address trustedForwarder) {\\n        _trustedForwarder = trustedForwarder;\\n    }\\n\\n    function isTrustedForwarder(address forwarder) public view virtual returns (bool) {\\n        return forwarder == _trustedForwarder;\\n    }\\n\\n    function _msgSender() internal view virtual override returns (address) {\\n        uint256 calldataLength = msg.data.length;\\n        uint256 contextSuffixLength = _contextSuffixLength();\\n        if (isTrustedForwarder(msg.sender) && calldataLength >= contextSuffixLength) {\\n            return address(bytes20(msg.data[calldataLength - contextSuffixLength:]));\\n        } else {\\n            return super._msgSender();\\n        }\\n    }\\n\\n    function _msgData() internal view virtual override returns (bytes calldata) {\\n        uint256 calldataLength = msg.data.length;\\n        uint256 contextSuffixLength = _contextSuffixLength();\\n        if (isTrustedForwarder(msg.sender) && calldataLength >= contextSuffixLength) {\\n            return msg.data[:calldataLength - contextSuffixLength];\\n        } else {\\n            return super._msgData();\\n        }\\n    }\\n\\n    /**\\n     * @dev ERC-2771 specifies the context as being a single address (20 bytes).\\n     */\\n    function _contextSuffixLength() internal view virtual override returns (uint256) {\\n        return 20;\\n    }\\n}\\n\",\"keccak256\":\"0xb1bf6c03803f1f391babddb37bf312ef2f310891bb08b1c234ddb98355ba1f21\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.4) (utils/Context.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n\\n    function _contextSuffixLength() internal view virtual returns (uint256) {\\n        return 0;\\n    }\\n}\\n\",\"keccak256\":\"0xa92e4fa126feb6907daa0513ddd816b2eb91f30a808de54f63c17d0e162c3439\",\"license\":\"MIT\"},\"contracts/AggregatorV3Interface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface AggregatorV3Interface {\\n  function decimals() external view returns (uint8);\\n\\n  function description() external view returns (string memory);\\n\\n  function version() external view returns (uint256);\\n\\n  function getRoundData(uint80 _roundId)\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n\\n  function latestRoundData()\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n}\\n\",\"keccak256\":\"0x6e6e4b0835904509406b070ee173b5bc8f677c19421b76be38aea3b1b3d30846\",\"license\":\"MIT\"},\"contracts/GameEngine.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\nimport { ERC2771Context } from \\\"@openzeppelin/contracts/metatx/ERC2771Context.sol\\\";\\nimport { Context } from \\\"@openzeppelin/contracts/utils/Context.sol\\\";\\nimport \\\"./AggregatorV3Interface.sol\\\";\\n\\ninterface IPlanetNFT {\\n    function ownedPlanet(address owner) external view returns (uint256);\\n\\n    function recordGameResult(uint256 tokenId, uint256 dayId, uint8[] calldata counts) external;\\n}\\n\\ncontract GameEngine is ERC2771Context, Ownable {\\n    uint8 public immutable WAVE_COUNT;\\n    uint8 public immutable WAVE_SIZE;\\n    uint16 public immutable TOTAL_ENEMIES; // WAVE_COUNT * WAVE_SIZE\\n    uint40 public immutable TIMEOUT_BLOCKS;\\n\\n    uint8 public enemyTypesCount; // client maps [0..enemyTypesCount-1] -> image file\\n\\n    // Redstone Price Feed Addresses\\n    AggregatorV3Interface internal ethPriceFeed;\\n    AggregatorV3Interface internal btcPriceFeed;\\n    AggregatorV3Interface internal pufEthPriceFeed;\\n\\n    // Price feeds enabled flag\\n    bool public priceFeedsEnabled;\\n\\n    // Planet NFT\\n    IPlanetNFT public planetNFT;\\n\\n    // Betting constants\\n    uint256 public constant FEE_BPS = 2000; // 20%\\n    uint256 public constant BPS = 10000;\\n\\n    struct Session {\\n        bytes32 seed;\\n        uint40 startBlock;\\n        bool exists;\\n    }\\n\\n    struct Play {\\n        bytes32 seed;\\n        uint40 startBlock;\\n        uint40 endBlock;\\n        uint8[] counts; // length == enemyTypesCount at the time of play\\n    }\\n\\n    mapping(address => Session) private _activeSession;\\n    mapping(address => Play[]) private _plays;\\n\\n    uint256 private _nonce;\\n\\n    // --- Daily defeats (from submitted results) ---\\n    // dayId => coinId => defeats\\n    mapping(uint256 => mapping(uint8 => uint256)) public dailyDefeats;\\n\\n    // --- Betting state ---\\n    // dayId => total staked (all coins)\\n    mapping(uint256 => uint256) public totalStaked;\\n    // dayId => coinId => total staked on that coin\\n    mapping(uint256 => mapping(uint8 => uint256)) public stakedPerCoin;\\n    // dayId => user => coinId => stake\\n    mapping(uint256 => mapping(address => mapping(uint8 => uint256))) public userStakePerCoin;\\n\\n    // Settlement\\n    mapping(uint256 => bool) public daySettled;\\n    mapping(uint256 => uint8) public dayWinningCoin;\\n    // Locked denominators and payout pool at settlement time\\n    mapping(uint256 => uint256) public dayWinnersStake; // sum of stakes on the winning coin\\n    mapping(uint256 => uint256) public dayPayoutPool; // totalStaked * (BPS - FEE_BPS) / BPS\\n    // Claims\\n    mapping(uint256 => mapping(address => bool)) public hasClaimed;\\n\\n    // Events\\n    event GameCompleted(\\n        address indexed player,\\n        uint256 indexed planetId,\\n        uint256 indexed dayId,\\n        bytes32 seed,\\n        uint40 startBlock,\\n        uint40 endBlock,\\n        uint8[] counts,\\n        uint256 totalDefeats\\n    );\\n\\n    constructor(\\n        address _planetNFT,\\n        uint8 _enemyTypesCount,\\n        uint8 _waveCount,\\n        uint8 _waveSize,\\n        uint40 _timeoutBlocks,\\n        address trustedForwarder\\n    ) Ownable() ERC2771Context(trustedForwarder) {\\n        require(_enemyTypesCount > 0, \\\"enemy types = 0\\\");\\n        require(_planetNFT != address(0), \\\"planet addr=0\\\");\\n        planetNFT = IPlanetNFT(_planetNFT);\\n\\n        enemyTypesCount = _enemyTypesCount;\\n        WAVE_COUNT = _waveCount;\\n        WAVE_SIZE = _waveSize;\\n        TOTAL_ENEMIES = uint16(uint256(_waveCount) * uint256(_waveSize));\\n        TIMEOUT_BLOCKS = _timeoutBlocks;\\n\\n        // Initialize Redstone price feeds (only if addresses are valid)\\n        if (_areValidAddresses()) {\\n            ethPriceFeed = AggregatorV3Interface(0x72266eFcdd0EC7110b44576e5413EF383950EEc2);\\n            btcPriceFeed = AggregatorV3Interface(0xCfd39de761508A7aCb8C931b959127a1D9d0B3D4);\\n            pufEthPriceFeed = AggregatorV3Interface(0xE7e734789954e6CffD8C295CBD0916A0A5747D27);\\n            priceFeedsEnabled = true;\\n        } else {\\n            priceFeedsEnabled = false;\\n        }\\n    }\\n\\n    // --- Admin ---\\n\\n    function setEnemyTypesCount(uint8 newCount) external onlyOwner {\\n        require(newCount > 0, \\\"enemy types = 0\\\");\\n        enemyTypesCount = newCount;\\n    }\\n\\n    function setPriceFeeds(address _ethPriceFeed, address _btcPriceFeed, address _pufEthPriceFeed) external onlyOwner {\\n        ethPriceFeed = AggregatorV3Interface(_ethPriceFeed);\\n        btcPriceFeed = AggregatorV3Interface(_btcPriceFeed);\\n        pufEthPriceFeed = AggregatorV3Interface(_pufEthPriceFeed);\\n        priceFeedsEnabled = true; // Enable when manually set\\n    }\\n\\n    function disablePriceFeeds() external onlyOwner {\\n        priceFeedsEnabled = false;\\n    }\\n\\n    // --- Helper Functions ---\\n\\n    function _areValidAddresses() internal view returns (bool) {\\n        // Simple check to see if we're on a network that has these contracts\\n        // This is a basic heuristic - in production you'd want more robust checks\\n        return block.chainid != 31337 && block.chainid != 1337; // Exclude Hardhat and Ganache\\n    }\\n\\n    // --- Price Feed Functions ---\\n\\n    function getLatestPrices() public view returns (int256 ethPrice, int256 btcPrice, int256 pufEthPrice) {\\n        if (!priceFeedsEnabled) {\\n            // Return fallback values when price feeds are disabled\\n            return (2000 * 10 ** 8, 40000 * 10 ** 8, 1800 * 10 ** 8); // Mock prices in 8 decimal format\\n        }\\n\\n        try ethPriceFeed.latestRoundData() returns (uint80, int256 _ethPrice, uint256, uint256, uint80) {\\n            ethPrice = _ethPrice;\\n        } catch {\\n            ethPrice = 2000 * 10 ** 8; // Fallback ETH price\\n        }\\n\\n        try btcPriceFeed.latestRoundData() returns (uint80, int256 _btcPrice, uint256, uint256, uint80) {\\n            btcPrice = _btcPrice;\\n        } catch {\\n            btcPrice = 40000 * 10 ** 8; // Fallback BTC price\\n        }\\n\\n        try pufEthPriceFeed.latestRoundData() returns (uint80, int256 _pufEthPrice, uint256, uint256, uint80) {\\n            pufEthPrice = _pufEthPrice;\\n        } catch {\\n            pufEthPrice = 1800 * 10 ** 8; // Fallback pufETH price\\n        }\\n    }\\n\\n    function generateFunRandomness() internal view returns (bytes32) {\\n        // Get latest prices from Redstone oracle\\n        (int256 ethPrice, int256 btcPrice, int256 pufEthPrice) = getLatestPrices();\\n\\n        // Combine multiple sources of (not)randomness to create one:\\n        // 1. Previous block hash\\n        // 2. Current block's prevrandao\\n        // 3. Player address\\n        // 4. Nonce\\n        // 5. ETH price\\n        // 6. BTC price\\n        // 7. pufETH price\\n        // 8. Block timestamp\\n        return\\n            keccak256(\\n                abi.encodePacked(\\n                    blockhash(block.number - 1),\\n                    block.prevrandao,\\n                    _msgSender(),\\n                    _nonce,\\n                    ethPrice,\\n                    btcPrice,\\n                    pufEthPrice,\\n                    block.timestamp\\n                )\\n            );\\n    }\\n\\n    // --- Session lifecycle ---\\n\\n    function hasActiveSession(address player) public view returns (bool) {\\n        Session memory s = _activeSession[player];\\n        if (!s.exists) return false;\\n        if (block.number > s.startBlock + TIMEOUT_BLOCKS) return false;\\n        return true;\\n    }\\n\\n    function getActiveSession(\\n        address player\\n    ) external view returns (bytes32 seed, uint40 startBlock, uint40 deadline, bool active) {\\n        Session memory s = _activeSession[player];\\n        if (!s.exists) {\\n            return (bytes32(0), 0, 0, false);\\n        }\\n        uint40 dl = s.startBlock + TIMEOUT_BLOCKS;\\n        bool isActive = block.number <= dl;\\n        return (s.seed, s.startBlock, dl, isActive);\\n    }\\n\\n    function startGame() external {\\n        require(enemyTypesCount > 0, \\\"no enemies\\\");\\n        // Require a PlanetNFT to play\\n        require(planetNFT.ownedPlanet(_msgSender()) != 0, \\\"need planet\\\");\\n        // Enforce one active session; allow restart if expired\\n        Session memory s = _activeSession[_msgSender()];\\n        if (s.exists) {\\n            require(block.number > s.startBlock + TIMEOUT_BLOCKS, \\\"active session\\\");\\n        }\\n\\n        // Enhanced randomness using Redstone price feeds + blockchain data\\n        _nonce++;\\n        bytes32 seed = generateFunRandomness();\\n        _activeSession[_msgSender()] = Session({ seed: seed, startBlock: uint40(block.number), exists: true });\\n    }\\n\\n    // Returns the full schedule (150 uint8 IDs) for the caller's active session\\n    function getMySchedule() external view returns (uint8[] memory seq) {\\n        return getScheduleFor(_msgSender());\\n    }\\n\\n    function getScheduleFor(address player) public view returns (uint8[] memory seq) {\\n        Session memory s = _activeSession[player];\\n        require(s.exists, \\\"no session\\\");\\n        seq = new uint8[](TOTAL_ENEMIES);\\n        for (uint16 i = 0; i < TOTAL_ENEMIES; i++) {\\n            uint256 r = uint256(keccak256(abi.encodePacked(s.seed, i)));\\n            seq[i] = uint8(r % enemyTypesCount);\\n        }\\n    }\\n\\n    // Submit results; stores the play and clears session\\n    function submitResults(uint8[] calldata counts) external {\\n        Session memory s = _activeSession[_msgSender()];\\n        require(s.exists, \\\"no session\\\");\\n        require(block.number <= s.startBlock + TIMEOUT_BLOCKS, \\\"session expired\\\");\\n        require(counts.length == enemyTypesCount, \\\"bad length\\\");\\n\\n        // Store the play\\n        uint8[] memory copy = new uint8[](counts.length);\\n        for (uint256 i = 0; i < counts.length; i++) {\\n            copy[i] = counts[i];\\n        }\\n        _plays[_msgSender()].push(\\n            Play({ seed: s.seed, startBlock: s.startBlock, endBlock: uint40(block.number), counts: copy })\\n        );\\n\\n        // Update daily defeats tallies and persist to NFT attributes\\n        uint256 dayId = block.timestamp / 1 days;\\n        uint256 totalDefeats = 0;\\n        for (uint256 i = 0; i < counts.length; i++) {\\n            dailyDefeats[dayId][uint8(i)] += counts[i];\\n            totalDefeats += counts[i];\\n        }\\n        uint256 tokenId = planetNFT.ownedPlanet(_msgSender());\\n        // tokenId must be non-zero since we require it in startGame\\n        planetNFT.recordGameResult(tokenId, dayId, counts);\\n\\n        // Emit game completion event\\n        emit GameCompleted(\\n            _msgSender(),\\n            tokenId,\\n            dayId,\\n            s.seed,\\n            s.startBlock,\\n            uint40(block.number),\\n            counts,\\n            totalDefeats\\n        );\\n\\n        delete _activeSession[_msgSender()];\\n    }\\n\\n    // --- History ---\\n\\n    function getPlaysCount(address player) external view returns (uint256) {\\n        return _plays[player].length;\\n    }\\n\\n    function getPlay(\\n        address player,\\n        uint256 index\\n    ) external view returns (bytes32 seed, uint40 startBlock, uint40 endBlock, uint8[] memory counts) {\\n        Play storage p = _plays[player][index];\\n        return (p.seed, p.startBlock, p.endBlock, p.counts);\\n    }\\n\\n    // --- Betting ---\\n\\n    function placeBet(uint8 coinId) external payable {\\n        require(msg.value > 0, \\\"no value\\\");\\n        require(coinId < enemyTypesCount, \\\"bad coin\\\");\\n        uint256 dayId = block.timestamp / 1 days;\\n        require(!daySettled[dayId], \\\"day settled\\\");\\n\\n        totalStaked[dayId] += msg.value;\\n        stakedPerCoin[dayId][coinId] += msg.value;\\n        userStakePerCoin[dayId][_msgSender()][coinId] += msg.value;\\n    }\\n\\n    function settleDay(uint256 dayId) external onlyOwner {\\n        require(!daySettled[dayId], \\\"already settled\\\");\\n\\n        // Compute winning coin (most defeats) with deterministic tie-breaker (lowest coinId)\\n        uint8 winning = 0;\\n        uint256 maxDefeats = 0;\\n        uint256 totalDefeatsSum = 0;\\n        for (uint8 i = 0; i < enemyTypesCount; i++) {\\n            uint256 d = dailyDefeats[dayId][i];\\n            totalDefeatsSum += d;\\n            if (d > maxDefeats) {\\n                maxDefeats = d;\\n                winning = i;\\n            }\\n        }\\n        require(totalDefeatsSum > 0, \\\"no defeats\\\");\\n\\n        daySettled[dayId] = true;\\n        dayWinningCoin[dayId] = winning;\\n\\n        uint256 winnersStake = stakedPerCoin[dayId][winning];\\n        dayWinnersStake[dayId] = winnersStake;\\n\\n        if (winnersStake == 0) {\\n            // No winners; per spec funds remain in contract (treasury)\\n            dayPayoutPool[dayId] = 0;\\n        } else {\\n            uint256 pool = totalStaked[dayId];\\n            uint256 payout = (pool * (BPS - FEE_BPS)) / BPS; // 80% to winners\\n            dayPayoutPool[dayId] = payout;\\n        }\\n    }\\n\\n    function claim(uint256 dayId) external {\\n        require(daySettled[dayId], \\\"not settled\\\");\\n        require(!hasClaimed[dayId][_msgSender()], \\\"claimed\\\");\\n\\n        uint8 winning = dayWinningCoin[dayId];\\n        uint256 winnersStake = dayWinnersStake[dayId];\\n        require(winnersStake > 0, \\\"no winners\\\");\\n\\n        uint256 userStake = userStakePerCoin[dayId][_msgSender()][winning];\\n        require(userStake > 0, \\\"no stake\\\");\\n\\n        uint256 payoutPool = dayPayoutPool[dayId];\\n        uint256 amount = (payoutPool * userStake) / winnersStake;\\n\\n        hasClaimed[dayId][_msgSender()] = true;\\n\\n        (bool ok, ) = payable(_msgSender()).call{ value: amount }(\\\"\\\");\\n        require(ok, \\\"transfer failed\\\");\\n    }\\n\\n    // --- Views for UI ---\\n\\n    function getDayInfo(\\n        uint256 dayId\\n    )\\n        external\\n        view\\n        returns (\\n            bool settled,\\n            uint8 winningCoin,\\n            uint256 totalPool,\\n            uint256[] memory stakesPerCoin,\\n            uint256[] memory defeatsPerCoin\\n        )\\n    {\\n        settled = daySettled[dayId];\\n        winningCoin = dayWinningCoin[dayId];\\n        totalPool = totalStaked[dayId];\\n\\n        stakesPerCoin = new uint256[](enemyTypesCount);\\n        defeatsPerCoin = new uint256[](enemyTypesCount);\\n        for (uint8 i = 0; i < enemyTypesCount; i++) {\\n            stakesPerCoin[i] = stakedPerCoin[dayId][i];\\n            defeatsPerCoin[i] = dailyDefeats[dayId][i];\\n        }\\n    }\\n\\n    function getUserStake(uint256 dayId, address user) external view returns (uint256[] memory stakesPerCoin) {\\n        stakesPerCoin = new uint256[](enemyTypesCount);\\n        for (uint8 i = 0; i < enemyTypesCount; i++) {\\n            stakesPerCoin[i] = userStakePerCoin[dayId][user][i];\\n        }\\n    }\\n\\n    function feeBasisPoints() external pure returns (uint256) {\\n        return FEE_BPS;\\n    }\\n\\n    // --- ERC2771 overrides ---\\n    function _msgSender() internal view override(Context, ERC2771Context) returns (address sender) {\\n        return ERC2771Context._msgSender();\\n    }\\n\\n    function _msgData() internal view override(Context, ERC2771Context) returns (bytes calldata) {\\n        return ERC2771Context._msgData();\\n    }\\n\\n    function _contextSuffixLength() internal view override(Context, ERC2771Context) returns (uint256) {\\n        return ERC2771Context._contextSuffixLength();\\n    }\\n}\\n\",\"keccak256\":\"0xba85e86bdcc519434d9738bb616e4885c086102d95eb813c6e0d5d815b624d2b\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x6101206040523480156200001257600080fd5b5060405162002daa38038062002daa833981016040819052620000359162000300565b6001600160a01b0381166080526200005662000050620001f3565b62000204565b60008560ff1611620000a15760405162461bcd60e51b815260206004820152600f60248201526e0656e656d79207479706573203d203608c1b60448201526064015b60405180910390fd5b6001600160a01b038616620000e95760405162461bcd60e51b815260206004820152600d60248201526c0706c616e657420616464723d3609c1b604482015260640162000098565b600480546001600160a01b0319166001600160a01b0388161790556000805460ff60a01b1916600160a01b60ff888116919091029190911790915584811660a081905290841660c08190526200013f91620003a2565b61ffff1660e05264ffffffffff8216610100526200015c62000254565b15620001d957600180546001600160a01b03199081167372266efcdd0ec7110b44576e5413ef383950eec2179091556002805490911673cfd39de761508a7acb8c931b959127a1d9d0b3d4179055600380547401e7e734789954e6cffd8c295cbd0916a0a5747d276001600160a81b0319909116179055620001e7565b6003805460ff60a01b191690555b50505050505062000435565b6000620001ff6200026e565b905090565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600046617a6914158015620001ff57505061053946141590565b6000368160146080519091506001600160a01b031633148015620002925750808210155b15620002c957600036620002a78385620003c2565b620002b4928290620003d8565b620002bf9162000404565b60601c9250505090565b339250505090565b80516001600160a01b0381168114620002e957600080fd5b919050565b805160ff81168114620002e957600080fd5b60008060008060008060c087890312156200031a57600080fd5b6200032587620002d1565b95506200033560208801620002ee565b94506200034560408801620002ee565b93506200035560608801620002ee565b9250608087015164ffffffffff811681146200037057600080fd5b91506200038060a08801620002d1565b90509295509295509295565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417620003bc57620003bc6200038c565b92915050565b81810381811115620003bc57620003bc6200038c565b60008085851115620003e957600080fd5b83861115620003f757600080fd5b5050820193919092039150565b6001600160601b031981358181169160148510156200042d5780818660140360031b1b83161692505b505092915050565b60805160a05160c05160e051610100516128ff620004ab600039600081816102520152818161107a0152818161118f01528181611ad10152611c9201526000818161068b0152818161192601526119920152600061054f0152600061075e0152600081816104c201526121f601526128ff6000f3fe60806040526004361061023b5760003560e01c80637f8242681161012e578063bf333f2c116100ab578063e3f3a4a91161006f578063e3f3a4a914610875578063e90936aa14610895578063ea68fcae146108aa578063f2fde38b146108ca578063ff61ba5c146108ea57600080fd5b8063bf333f2c14610795578063c4c8889c146107ab578063c8a78843146107fb578063cdea356814610833578063d65ab5f21461086057600080fd5b80638da5cb5b116100f25780638da5cb5b146106c05780639626a230146106f25780639bcf4c6a1461071f578063b5bc060e1461074c578063b8606eef1461078057600080fd5b80637f824268146105be5780638093067c146105ee57806385d3d6471461060e578063873f6f9e1461063e57806388a944361461067957600080fd5b806350609c7d116101bc578063697ca93011610180578063697ca93014610507578063715018a61461052857806374b6c7441461053d5780637b9ee6d5146105715780637df5e9601461059157600080fd5b806350609c7d146103ff57806352c6af821461042f5780635425beaa14610467578063572b6c05146104a557806361180738146104f257600080fd5b80632eb5e7ac116102035780632eb5e7ac1461034a57806333155b1b1461037d578063379607f51461039f57806341cb8c20146103bf57806343046844146103ec57600080fd5b8063010cf64414610240578063127ba5eb1461028f57806315ff8dd9146102bf5780631724ddac146102f0578063249d39e914610334575b600080fd5b34801561024c57600080fd5b506102747f000000000000000000000000000000000000000000000000000000000000000081565b60405164ffffffffff90911681526020015b60405180910390f35b34801561029b57600080fd5b506102af6102aa366004612332565b61091a565b604051610286949392919061239a565b3480156102cb57600080fd5b506102df6102da3660046123d4565b610a00565b60405161028695949392919061241d565b3480156102fc57600080fd5b5061032661030b366004612465565b6001600160a01b031660009081526006602052604090205490565b604051908152602001610286565b34801561034057600080fd5b5061032661271081565b34801561035657600080fd5b5060005461036b90600160a01b900460ff1681565b60405160ff9091168152602001610286565b34801561038957600080fd5b5061039d610398366004612487565b610b85565b005b3480156103ab57600080fd5b5061039d6103ba3660046123d4565b610bdb565b3480156103cb57600080fd5b506103266103da3660046123d4565b60096020526000908152604090205481565b61039d6103fa3660046124db565b610e7d565b34801561040b57600080fd5b5061041f61041a366004612465565b61101c565b6040519015158152602001610286565b34801561043b57600080fd5b5061032661044a3660046124f6565b600a60209081526000928352604080842090915290825290205481565b34801561047357600080fd5b50610326610482366004612522565b600b60209081526000938452604080852082529284528284209052825290205481565b3480156104b157600080fd5b5061041f6104c0366004612465565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0390811691161490565b3480156104fe57600080fd5b5061039d6110c8565b34801561051357600080fd5b5060035461041f90600160a01b900460ff1681565b34801561053457600080fd5b5061039d6110df565b34801561054957600080fd5b5061036b7f000000000000000000000000000000000000000000000000000000000000000081565b34801561057d57600080fd5b5061039d61058c366004612555565b6110f3565b34801561059d57600080fd5b506103266105ac3660046123d4565b600f6020526000908152604090205481565b3480156105ca57600080fd5b5061036b6105d93660046123d4565b600d6020526000908152604090205460ff1681565b3480156105fa57600080fd5b5061039d6106093660046123d4565b61160b565b34801561061a57600080fd5b5061041f6106293660046123d4565b600c6020526000908152604090205460ff1681565b34801561064a57600080fd5b5061041f6106593660046125ca565b601060209081526000928352604080842090915290825290205460ff1681565b34801561068557600080fd5b506106ad7f000000000000000000000000000000000000000000000000000000000000000081565b60405161ffff9091168152602001610286565b3480156106cc57600080fd5b506000546001600160a01b03165b6040516001600160a01b039091168152602001610286565b3480156106fe57600080fd5b5061071261070d3660046125ca565b6117c3565b60405161028691906125ed565b34801561072b57600080fd5b5061073f61073a366004612465565b611899565b6040516102869190612600565b34801561075857600080fd5b5061036b7f000000000000000000000000000000000000000000000000000000000000000081565b34801561078c57600080fd5b506107d0610326565b3480156107a157600080fd5b506103266107d081565b3480156107b757600080fd5b506107cb6107c6366004612465565b611a60565b604051610286949392919093845264ffffffffff9283166020850152911660408301521515606082015260800190565b34801561080757600080fd5b506103266108163660046124f6565b600860209081526000928352604080842090915290825290205481565b34801561083f57600080fd5b5061032661084e3660046123d4565b600e6020526000908152604090205481565b34801561086c57600080fd5b5061039d611b25565b34801561088157600080fd5b506004546106da906001600160a01b031681565b3480156108a157600080fd5b5061073f611db2565b3480156108b657600080fd5b5061039d6108c53660046124db565b611dc4565b3480156108d657600080fd5b5061039d6108e5366004612465565b611e31565b3480156108f657600080fd5b506108ff611eaa565b60408051938452602084019290925290820152606001610286565b6001600160a01b038216600090815260066020526040812080548291829160609183918790811061094d5761094d612613565b6000918252602091829020600390910201805460018201546002830180546040805182880281018801909152818152949650929464ffffffffff80841695600160281b909404169391929183918301828280156109e757602002820191906000526020600020906000905b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116109b85790505b5050505050905094509450945094505092959194509250565b6000818152600c6020908152604080832054600d835281842054600990935290832054925460ff9182169392821692916060918291600160a01b9091041667ffffffffffffffff811115610a5657610a56612629565b604051908082528060200260200182016040528015610a7f578160200160208202803683370190505b50600054909250600160a01b900460ff1667ffffffffffffffff811115610aa857610aa8612629565b604051908082528060200260200182016040528015610ad1578160200160208202803683370190505b50905060005b60005460ff600160a01b90910481169082161015610b7b576000878152600a6020908152604080832060ff85168085529252909120548451909185918110610b2157610b21612613565b602090810291909101810191909152600088815260088252604080822060ff851680845293529020548351909184918110610b5e57610b5e612613565b602090810291909101015280610b7381612655565b915050610ad7565b5091939590929450565b610b8d61207a565b600180546001600160a01b039485166001600160a01b031991821617909155600280549385169390911692909217909155600380546001600160a81b0319169190921617600160a01b179055565b6000818152600c602052604090205460ff16610c2c5760405162461bcd60e51b815260206004820152600b60248201526a1b9bdd081cd95d1d1b195960aa1b60448201526064015b60405180910390fd5b600081815260106020526040812090610c436120f3565b6001600160a01b0316815260208101919091526040016000205460ff1615610c975760405162461bcd60e51b815260206004820152600760248201526618db185a5b595960ca1b6044820152606401610c23565b6000818152600d6020908152604080832054600e9092529091205460ff9091169080610cf25760405162461bcd60e51b815260206004820152600a6024820152696e6f2077696e6e65727360b01b6044820152606401610c23565b6000838152600b6020526040812081610d096120f3565b6001600160a01b031681526020808201929092526040908101600090812060ff87168252909252902054905080610d6d5760405162461bcd60e51b81526020600482015260086024820152676e6f207374616b6560c01b6044820152606401610c23565b6000848152600f60205260408120549083610d888484612674565b610d9291906126a7565b600087815260106020526040812091925060019190610daf6120f3565b6001600160a01b0316815260208101919091526040016000908120805460ff191692151592909217909155610de26120f3565b6001600160a01b03168260405160006040518083038185875af1925050503d8060008114610e2c576040519150601f19603f3d011682016040523d82523d6000602084013e610e31565b606091505b5050905080610e745760405162461bcd60e51b815260206004820152600f60248201526e1d1c985b9cd9995c8819985a5b1959608a1b6044820152606401610c23565b50505050505050565b60003411610eb85760405162461bcd60e51b81526020600482015260086024820152676e6f2076616c756560c01b6044820152606401610c23565b60005460ff600160a01b909104811690821610610f025760405162461bcd60e51b81526020600482015260086024820152673130b21031b7b4b760c11b6044820152606401610c23565b6000610f1162015180426126a7565b6000818152600c602052604090205490915060ff1615610f615760405162461bcd60e51b815260206004820152600b60248201526a19185e481cd95d1d1b195960aa1b6044820152606401610c23565b60008181526009602052604081208054349290610f7f9084906126bb565b90915550506000818152600a6020908152604080832060ff8616845290915281208054349290610fb09084906126bb565b90915550506000818152600b602052604081203491610fcd6120f3565b6001600160a01b03166001600160a01b0316815260200190815260200160002060008460ff1660ff168152602001908152602001600020600082825461101391906126bb565b90915550505050565b6001600160a01b038116600090815260056020908152604080832081516060810183528154815260019091015464ffffffffff811693820193909352600160281b90920460ff1615159082018190526110785750600092915050565b7f000000000000000000000000000000000000000000000000000000000000000081602001516110a891906126ce565b64ffffffffff164311156110bf5750600092915050565b50600192915050565b6110d061207a565b6003805460ff60a01b19169055565b6110e761207a565b6110f160006120fd565b565b6000600560006111016120f3565b6001600160a01b03168152602080820192909252604090810160002081516060810183528154815260019091015464ffffffffff811693820193909352600160281b90920460ff16151590820181905290915061118d5760405162461bcd60e51b815260206004820152600a60248201526937379039b2b9b9b4b7b760b11b6044820152606401610c23565b7f000000000000000000000000000000000000000000000000000000000000000081602001516111bd91906126ce565b64ffffffffff164311156112055760405162461bcd60e51b815260206004820152600f60248201526e1cd95cdcda5bdb88195e1c1a5c9959608a1b6044820152606401610c23565b600054600160a01b900460ff16821461124d5760405162461bcd60e51b815260206004820152600a6024820152690c4c2c840d8cadccee8d60b31b6044820152606401610c23565b60008267ffffffffffffffff81111561126857611268612629565b604051908082528060200260200182016040528015611291578160200160208202803683370190505b50905060005b838110156112fc578484828181106112b1576112b1612613565b90506020020160208101906112c691906124db565b8282815181106112d8576112d8612613565b60ff90921660209283029190910190910152806112f4816126ec565b915050611297565b50600660006113096120f3565b6001600160a01b03168152602080820192909252604090810160009081208251608081018452865181528685015164ffffffffff908116828701908152438216958301958652606083018881528454600181810187559587529588902084516003909702019586559051938501805496518316600160281b0269ffffffffffffffffffff19909716949092169390931794909417909355518051929391926113b7926002850192019061225b565b505050600062015180426113cb91906126a7565b90506000805b8581101561147f578686828181106113eb576113eb612613565b905060200201602081019061140091906124db565b600084815260086020908152604080832060ff868116855292528220805493909116929091906114319084906126bb565b90915550879050868281811061144957611449612613565b905060200201602081019061145e91906124db565b61146b9060ff16836126bb565b915080611477816126ec565b9150506113d1565b506004546000906001600160a01b031663a994702961149c6120f3565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa1580156114e0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115049190612705565b6004805460405163086001ab60e21b81529293506001600160a01b03169163218006ac9161153a91859188918d918d9101612754565b600060405180830381600087803b15801561155457600080fd5b505af1158015611568573d6000803e3d6000fd5b5050505082816115766120f3565b6001600160a01b03167fb7af28c0f17581c5c0523f38ce21aba681bfa29a46d8cc958b43815eb974820788600001518960200151438d8d8a6040516115c096959493929190612774565b60405180910390a4600560006115d46120f3565b6001600160a01b0316815260208101919091526040016000908120908155600101805465ffffffffffff1916905550505050505050565b61161361207a565b6000818152600c602052604090205460ff16156116645760405162461bcd60e51b815260206004820152600f60248201526e185b1c9958591e481cd95d1d1b1959608a1b6044820152606401610c23565b6000806000805b60005460ff600160a01b909104811690821610156116ce57600085815260086020908152604080832060ff851684529091529020546116aa81846126bb565b9250838111156116bb578093508194505b50806116c681612655565b91505061166b565b506000811161170c5760405162461bcd60e51b815260206004820152600a6024820152696e6f206465666561747360b01b6044820152606401610c23565b6000848152600c60209081526040808320805460ff19908116600117909155600d8352818420805460ff8916921682179055600a8352818420908452825280832054878452600e909252822081905590819003611777576000858152600f60205260408120556117bc565b600085815260096020526040812054906127106117966107d0826127b8565b6117a09084612674565b6117aa91906126a7565b6000888152600f602052604090205550505b5050505050565b600054606090600160a01b900460ff1667ffffffffffffffff8111156117eb576117eb612629565b604051908082528060200260200182016040528015611814578160200160208202803683370190505b50905060005b60005460ff600160a01b90910481169082161015611892576000848152600b602090815260408083206001600160a01b0387168452825280832060ff8516808552925290912054835190918491811061187557611875612613565b60209081029190910101528061188a81612655565b91505061181a565b5092915050565b6001600160a01b0381166000908152600560209081526040918290208251606080820185528254825260019092015464ffffffffff811693820193909352600160281b90920460ff161515928201839052916119245760405162461bcd60e51b815260206004820152600a60248201526937379039b2b9b9b4b7b760b11b6044820152606401610c23565b7f000000000000000000000000000000000000000000000000000000000000000061ffff1667ffffffffffffffff81111561196157611961612629565b60405190808252806020026020018201604052801561198a578160200160208202803683370190505b50915060005b7f000000000000000000000000000000000000000000000000000000000000000061ffff168161ffff161015611a595781516040516000916119ec91849060200191825260f01b6001600160f01b031916602082015260220190565b60408051808303601f190181529190528051602090910120600054909150611a1e90600160a01b900460ff16826127cb565b848361ffff1681518110611a3457611a34612613565b60ff909216602092830291909101909101525080611a51816127df565b915050611990565b5050919050565b6001600160a01b038116600090815260056020908152604080832081516060810183528154815260019091015464ffffffffff811693820193909352600160281b90920460ff16151590820181905282918291829190611acd575060009350839250829150819050611b1e565b60007f00000000000000000000000000000000000000000000000000000000000000008260200151611aff91906126ce565b8251602090930151929650919450909250505064ffffffffff81164311155b9193509193565b600054600160a01b900460ff16611b6b5760405162461bcd60e51b815260206004820152600a6024820152696e6f20656e656d69657360b01b6044820152606401610c23565b6004546001600160a01b031663a9947029611b846120f3565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015611bc8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bec9190612705565b600003611c295760405162461bcd60e51b815260206004820152600b60248201526a1b995959081c1b185b995d60aa1b6044820152606401610c23565b600060056000611c376120f3565b6001600160a01b03168152602080820192909252604090810160002081516060810183528154815260019091015464ffffffffff811693820193909352600160281b90920460ff1615801591830191909152909150611d06577f00000000000000000000000000000000000000000000000000000000000000008160200151611cc091906126ce565b64ffffffffff164311611d065760405162461bcd60e51b815260206004820152600e60248201526d30b1ba34bb329039b2b9b9b4b7b760911b6044820152606401610c23565b60078054906000611d16836126ec565b91905055506000611d2561214d565b905060405180606001604052808281526020014364ffffffffff1681526020016001151581525060056000611d586120f3565b6001600160a01b03168152602080820192909252604090810160002083518155918301516001909201805493909101511515600160281b0265ffffffffffff1990931664ffffffffff909216919091179190911790555050565b6060611dbf61073a6120f3565b905090565b611dcc61207a565b60008160ff1611611e115760405162461bcd60e51b815260206004820152600f60248201526e0656e656d79207479706573203d203608c1b6044820152606401610c23565b6000805460ff909216600160a01b0260ff60a01b19909216919091179055565b611e3961207a565b6001600160a01b038116611e9e5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610c23565b611ea7816120fd565b50565b6000806000600360149054906101000a900460ff16611ede5750642e90edd000926503a35294400092506429e8d608009150565b600160009054906101000a90046001600160a01b03166001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa925050508015611f4d575060408051601f3d908101601f19168201909252611f4a9181019061281a565b60015b611f5e57642e90edd0009250611f66565b509195505050505b600260009054906101000a90046001600160a01b03166001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa925050508015611fd5575060408051601f3d908101601f19168201909252611fd29181019061281a565b60015b611fe7576503a3529440009150611fef565b509194505050505b600360009054906101000a90046001600160a01b03166001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa92505050801561205e575060408051601f3d908101601f1916820190925261205b9181019061281a565b60015b61206e57506429e8d60800909192565b50919350505050909192565b6120826120f3565b6001600160a01b031661209d6000546001600160a01b031690565b6001600160a01b0316146110f15760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610c23565b6000611dbf6121e6565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60008060008061215b611eaa565b9194509250905061216d6001436127b8565b40446121776120f3565b6007546040805160208101959095528401929092526bffffffffffffffffffffffff19606091821b169083015260748201526094810184905260b4810183905260d481018290524260f48201526101140160405160208183030381529060405280519060200120935050505090565b6000366014336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480156122235750808210155b156122535760003661223583856127b8565b61224092829061286a565b61224991612894565b60601c9250505090565b339250505090565b82805482825590600052602060002090601f016020900481019282156122f15791602002820160005b838211156122c257835183826101000a81548160ff021916908360ff1602179055509260200192600101602081600001049283019260010302612284565b80156122ef5782816101000a81549060ff02191690556001016020816000010492830192600103026122c2565b505b506122fd929150612301565b5090565b5b808211156122fd5760008155600101612302565b80356001600160a01b038116811461232d57600080fd5b919050565b6000806040838503121561234557600080fd5b61234e83612316565b946020939093013593505050565b600081518084526020808501945080840160005b8381101561238f57815160ff1687529582019590820190600101612370565b509495945050505050565b848152600064ffffffffff8086166020840152808516604084015250608060608301526123ca608083018461235c565b9695505050505050565b6000602082840312156123e657600080fd5b5035919050565b600081518084526020808501945080840160005b8381101561238f57815187529582019590820190600101612401565b851515815260ff8516602082015283604082015260a06060820152600061244760a08301856123ed565b828103608084015261245981856123ed565b98975050505050505050565b60006020828403121561247757600080fd5b61248082612316565b9392505050565b60008060006060848603121561249c57600080fd5b6124a584612316565b92506124b360208501612316565b91506124c160408501612316565b90509250925092565b803560ff8116811461232d57600080fd5b6000602082840312156124ed57600080fd5b612480826124ca565b6000806040838503121561250957600080fd5b82359150612519602084016124ca565b90509250929050565b60008060006060848603121561253757600080fd5b8335925061254760208501612316565b91506124c1604085016124ca565b6000806020838503121561256857600080fd5b823567ffffffffffffffff8082111561258057600080fd5b818501915085601f83011261259457600080fd5b8135818111156125a357600080fd5b8660208260051b85010111156125b857600080fd5b60209290920196919550909350505050565b600080604083850312156125dd57600080fd5b8235915061251960208401612316565b60208152600061248060208301846123ed565b602081526000612480602083018461235c565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600060ff821660ff810361266b5761266b61263f565b60010192915050565b808202811582820484141761268b5761268b61263f565b92915050565b634e487b7160e01b600052601260045260246000fd5b6000826126b6576126b6612691565b500490565b8082018082111561268b5761268b61263f565b64ffffffffff8181168382160190808211156118925761189261263f565b6000600182016126fe576126fe61263f565b5060010190565b60006020828403121561271757600080fd5b5051919050565b8183526000602080850194508260005b8581101561238f5760ff612741836124ca565b168752958201959082019060010161272e565b8481528360208201526060604082015260006123ca60608301848661271e565b868152600064ffffffffff808816602084015280871660408401525060a060608301526127a560a08301858761271e565b9050826080830152979650505050505050565b8181038181111561268b5761268b61263f565b6000826127da576127da612691565b500690565b600061ffff8083168181036127f6576127f661263f565b6001019392505050565b805169ffffffffffffffffffff8116811461232d57600080fd5b600080600080600060a0868803121561283257600080fd5b61283b86612800565b945060208601519350604086015192506060860151915061285e60808701612800565b90509295509295909350565b6000808585111561287a57600080fd5b8386111561288757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156128c15780818660140360031b1b83161692505b50509291505056fea2646970667358221220973b41b1127078c711e125e57014cd30ff37deaade2771834f138b803affc93964736f6c63430008140033",
  "deployedBytecode": "0x60806040526004361061023b5760003560e01c80637f8242681161012e578063bf333f2c116100ab578063e3f3a4a91161006f578063e3f3a4a914610875578063e90936aa14610895578063ea68fcae146108aa578063f2fde38b146108ca578063ff61ba5c146108ea57600080fd5b8063bf333f2c14610795578063c4c8889c146107ab578063c8a78843146107fb578063cdea356814610833578063d65ab5f21461086057600080fd5b80638da5cb5b116100f25780638da5cb5b146106c05780639626a230146106f25780639bcf4c6a1461071f578063b5bc060e1461074c578063b8606eef1461078057600080fd5b80637f824268146105be5780638093067c146105ee57806385d3d6471461060e578063873f6f9e1461063e57806388a944361461067957600080fd5b806350609c7d116101bc578063697ca93011610180578063697ca93014610507578063715018a61461052857806374b6c7441461053d5780637b9ee6d5146105715780637df5e9601461059157600080fd5b806350609c7d146103ff57806352c6af821461042f5780635425beaa14610467578063572b6c05146104a557806361180738146104f257600080fd5b80632eb5e7ac116102035780632eb5e7ac1461034a57806333155b1b1461037d578063379607f51461039f57806341cb8c20146103bf57806343046844146103ec57600080fd5b8063010cf64414610240578063127ba5eb1461028f57806315ff8dd9146102bf5780631724ddac146102f0578063249d39e914610334575b600080fd5b34801561024c57600080fd5b506102747f000000000000000000000000000000000000000000000000000000000000000081565b60405164ffffffffff90911681526020015b60405180910390f35b34801561029b57600080fd5b506102af6102aa366004612332565b61091a565b604051610286949392919061239a565b3480156102cb57600080fd5b506102df6102da3660046123d4565b610a00565b60405161028695949392919061241d565b3480156102fc57600080fd5b5061032661030b366004612465565b6001600160a01b031660009081526006602052604090205490565b604051908152602001610286565b34801561034057600080fd5b5061032661271081565b34801561035657600080fd5b5060005461036b90600160a01b900460ff1681565b60405160ff9091168152602001610286565b34801561038957600080fd5b5061039d610398366004612487565b610b85565b005b3480156103ab57600080fd5b5061039d6103ba3660046123d4565b610bdb565b3480156103cb57600080fd5b506103266103da3660046123d4565b60096020526000908152604090205481565b61039d6103fa3660046124db565b610e7d565b34801561040b57600080fd5b5061041f61041a366004612465565b61101c565b6040519015158152602001610286565b34801561043b57600080fd5b5061032661044a3660046124f6565b600a60209081526000928352604080842090915290825290205481565b34801561047357600080fd5b50610326610482366004612522565b600b60209081526000938452604080852082529284528284209052825290205481565b3480156104b157600080fd5b5061041f6104c0366004612465565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0390811691161490565b3480156104fe57600080fd5b5061039d6110c8565b34801561051357600080fd5b5060035461041f90600160a01b900460ff1681565b34801561053457600080fd5b5061039d6110df565b34801561054957600080fd5b5061036b7f000000000000000000000000000000000000000000000000000000000000000081565b34801561057d57600080fd5b5061039d61058c366004612555565b6110f3565b34801561059d57600080fd5b506103266105ac3660046123d4565b600f6020526000908152604090205481565b3480156105ca57600080fd5b5061036b6105d93660046123d4565b600d6020526000908152604090205460ff1681565b3480156105fa57600080fd5b5061039d6106093660046123d4565b61160b565b34801561061a57600080fd5b5061041f6106293660046123d4565b600c6020526000908152604090205460ff1681565b34801561064a57600080fd5b5061041f6106593660046125ca565b601060209081526000928352604080842090915290825290205460ff1681565b34801561068557600080fd5b506106ad7f000000000000000000000000000000000000000000000000000000000000000081565b60405161ffff9091168152602001610286565b3480156106cc57600080fd5b506000546001600160a01b03165b6040516001600160a01b039091168152602001610286565b3480156106fe57600080fd5b5061071261070d3660046125ca565b6117c3565b60405161028691906125ed565b34801561072b57600080fd5b5061073f61073a366004612465565b611899565b6040516102869190612600565b34801561075857600080fd5b5061036b7f000000000000000000000000000000000000000000000000000000000000000081565b34801561078c57600080fd5b506107d0610326565b3480156107a157600080fd5b506103266107d081565b3480156107b757600080fd5b506107cb6107c6366004612465565b611a60565b604051610286949392919093845264ffffffffff9283166020850152911660408301521515606082015260800190565b34801561080757600080fd5b506103266108163660046124f6565b600860209081526000928352604080842090915290825290205481565b34801561083f57600080fd5b5061032661084e3660046123d4565b600e6020526000908152604090205481565b34801561086c57600080fd5b5061039d611b25565b34801561088157600080fd5b506004546106da906001600160a01b031681565b3480156108a157600080fd5b5061073f611db2565b3480156108b657600080fd5b5061039d6108c53660046124db565b611dc4565b3480156108d657600080fd5b5061039d6108e5366004612465565b611e31565b3480156108f657600080fd5b506108ff611eaa565b60408051938452602084019290925290820152606001610286565b6001600160a01b038216600090815260066020526040812080548291829160609183918790811061094d5761094d612613565b6000918252602091829020600390910201805460018201546002830180546040805182880281018801909152818152949650929464ffffffffff80841695600160281b909404169391929183918301828280156109e757602002820191906000526020600020906000905b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116109b85790505b5050505050905094509450945094505092959194509250565b6000818152600c6020908152604080832054600d835281842054600990935290832054925460ff9182169392821692916060918291600160a01b9091041667ffffffffffffffff811115610a5657610a56612629565b604051908082528060200260200182016040528015610a7f578160200160208202803683370190505b50600054909250600160a01b900460ff1667ffffffffffffffff811115610aa857610aa8612629565b604051908082528060200260200182016040528015610ad1578160200160208202803683370190505b50905060005b60005460ff600160a01b90910481169082161015610b7b576000878152600a6020908152604080832060ff85168085529252909120548451909185918110610b2157610b21612613565b602090810291909101810191909152600088815260088252604080822060ff851680845293529020548351909184918110610b5e57610b5e612613565b602090810291909101015280610b7381612655565b915050610ad7565b5091939590929450565b610b8d61207a565b600180546001600160a01b039485166001600160a01b031991821617909155600280549385169390911692909217909155600380546001600160a81b0319169190921617600160a01b179055565b6000818152600c602052604090205460ff16610c2c5760405162461bcd60e51b815260206004820152600b60248201526a1b9bdd081cd95d1d1b195960aa1b60448201526064015b60405180910390fd5b600081815260106020526040812090610c436120f3565b6001600160a01b0316815260208101919091526040016000205460ff1615610c975760405162461bcd60e51b815260206004820152600760248201526618db185a5b595960ca1b6044820152606401610c23565b6000818152600d6020908152604080832054600e9092529091205460ff9091169080610cf25760405162461bcd60e51b815260206004820152600a6024820152696e6f2077696e6e65727360b01b6044820152606401610c23565b6000838152600b6020526040812081610d096120f3565b6001600160a01b031681526020808201929092526040908101600090812060ff87168252909252902054905080610d6d5760405162461bcd60e51b81526020600482015260086024820152676e6f207374616b6560c01b6044820152606401610c23565b6000848152600f60205260408120549083610d888484612674565b610d9291906126a7565b600087815260106020526040812091925060019190610daf6120f3565b6001600160a01b0316815260208101919091526040016000908120805460ff191692151592909217909155610de26120f3565b6001600160a01b03168260405160006040518083038185875af1925050503d8060008114610e2c576040519150601f19603f3d011682016040523d82523d6000602084013e610e31565b606091505b5050905080610e745760405162461bcd60e51b815260206004820152600f60248201526e1d1c985b9cd9995c8819985a5b1959608a1b6044820152606401610c23565b50505050505050565b60003411610eb85760405162461bcd60e51b81526020600482015260086024820152676e6f2076616c756560c01b6044820152606401610c23565b60005460ff600160a01b909104811690821610610f025760405162461bcd60e51b81526020600482015260086024820152673130b21031b7b4b760c11b6044820152606401610c23565b6000610f1162015180426126a7565b6000818152600c602052604090205490915060ff1615610f615760405162461bcd60e51b815260206004820152600b60248201526a19185e481cd95d1d1b195960aa1b6044820152606401610c23565b60008181526009602052604081208054349290610f7f9084906126bb565b90915550506000818152600a6020908152604080832060ff8616845290915281208054349290610fb09084906126bb565b90915550506000818152600b602052604081203491610fcd6120f3565b6001600160a01b03166001600160a01b0316815260200190815260200160002060008460ff1660ff168152602001908152602001600020600082825461101391906126bb565b90915550505050565b6001600160a01b038116600090815260056020908152604080832081516060810183528154815260019091015464ffffffffff811693820193909352600160281b90920460ff1615159082018190526110785750600092915050565b7f000000000000000000000000000000000000000000000000000000000000000081602001516110a891906126ce565b64ffffffffff164311156110bf5750600092915050565b50600192915050565b6110d061207a565b6003805460ff60a01b19169055565b6110e761207a565b6110f160006120fd565b565b6000600560006111016120f3565b6001600160a01b03168152602080820192909252604090810160002081516060810183528154815260019091015464ffffffffff811693820193909352600160281b90920460ff16151590820181905290915061118d5760405162461bcd60e51b815260206004820152600a60248201526937379039b2b9b9b4b7b760b11b6044820152606401610c23565b7f000000000000000000000000000000000000000000000000000000000000000081602001516111bd91906126ce565b64ffffffffff164311156112055760405162461bcd60e51b815260206004820152600f60248201526e1cd95cdcda5bdb88195e1c1a5c9959608a1b6044820152606401610c23565b600054600160a01b900460ff16821461124d5760405162461bcd60e51b815260206004820152600a6024820152690c4c2c840d8cadccee8d60b31b6044820152606401610c23565b60008267ffffffffffffffff81111561126857611268612629565b604051908082528060200260200182016040528015611291578160200160208202803683370190505b50905060005b838110156112fc578484828181106112b1576112b1612613565b90506020020160208101906112c691906124db565b8282815181106112d8576112d8612613565b60ff90921660209283029190910190910152806112f4816126ec565b915050611297565b50600660006113096120f3565b6001600160a01b03168152602080820192909252604090810160009081208251608081018452865181528685015164ffffffffff908116828701908152438216958301958652606083018881528454600181810187559587529588902084516003909702019586559051938501805496518316600160281b0269ffffffffffffffffffff19909716949092169390931794909417909355518051929391926113b7926002850192019061225b565b505050600062015180426113cb91906126a7565b90506000805b8581101561147f578686828181106113eb576113eb612613565b905060200201602081019061140091906124db565b600084815260086020908152604080832060ff868116855292528220805493909116929091906114319084906126bb565b90915550879050868281811061144957611449612613565b905060200201602081019061145e91906124db565b61146b9060ff16836126bb565b915080611477816126ec565b9150506113d1565b506004546000906001600160a01b031663a994702961149c6120f3565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa1580156114e0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115049190612705565b6004805460405163086001ab60e21b81529293506001600160a01b03169163218006ac9161153a91859188918d918d9101612754565b600060405180830381600087803b15801561155457600080fd5b505af1158015611568573d6000803e3d6000fd5b5050505082816115766120f3565b6001600160a01b03167fb7af28c0f17581c5c0523f38ce21aba681bfa29a46d8cc958b43815eb974820788600001518960200151438d8d8a6040516115c096959493929190612774565b60405180910390a4600560006115d46120f3565b6001600160a01b0316815260208101919091526040016000908120908155600101805465ffffffffffff1916905550505050505050565b61161361207a565b6000818152600c602052604090205460ff16156116645760405162461bcd60e51b815260206004820152600f60248201526e185b1c9958591e481cd95d1d1b1959608a1b6044820152606401610c23565b6000806000805b60005460ff600160a01b909104811690821610156116ce57600085815260086020908152604080832060ff851684529091529020546116aa81846126bb565b9250838111156116bb578093508194505b50806116c681612655565b91505061166b565b506000811161170c5760405162461bcd60e51b815260206004820152600a6024820152696e6f206465666561747360b01b6044820152606401610c23565b6000848152600c60209081526040808320805460ff19908116600117909155600d8352818420805460ff8916921682179055600a8352818420908452825280832054878452600e909252822081905590819003611777576000858152600f60205260408120556117bc565b600085815260096020526040812054906127106117966107d0826127b8565b6117a09084612674565b6117aa91906126a7565b6000888152600f602052604090205550505b5050505050565b600054606090600160a01b900460ff1667ffffffffffffffff8111156117eb576117eb612629565b604051908082528060200260200182016040528015611814578160200160208202803683370190505b50905060005b60005460ff600160a01b90910481169082161015611892576000848152600b602090815260408083206001600160a01b0387168452825280832060ff8516808552925290912054835190918491811061187557611875612613565b60209081029190910101528061188a81612655565b91505061181a565b5092915050565b6001600160a01b0381166000908152600560209081526040918290208251606080820185528254825260019092015464ffffffffff811693820193909352600160281b90920460ff161515928201839052916119245760405162461bcd60e51b815260206004820152600a60248201526937379039b2b9b9b4b7b760b11b6044820152606401610c23565b7f000000000000000000000000000000000000000000000000000000000000000061ffff1667ffffffffffffffff81111561196157611961612629565b60405190808252806020026020018201604052801561198a578160200160208202803683370190505b50915060005b7f000000000000000000000000000000000000000000000000000000000000000061ffff168161ffff161015611a595781516040516000916119ec91849060200191825260f01b6001600160f01b031916602082015260220190565b60408051808303601f190181529190528051602090910120600054909150611a1e90600160a01b900460ff16826127cb565b848361ffff1681518110611a3457611a34612613565b60ff909216602092830291909101909101525080611a51816127df565b915050611990565b5050919050565b6001600160a01b038116600090815260056020908152604080832081516060810183528154815260019091015464ffffffffff811693820193909352600160281b90920460ff16151590820181905282918291829190611acd575060009350839250829150819050611b1e565b60007f00000000000000000000000000000000000000000000000000000000000000008260200151611aff91906126ce565b8251602090930151929650919450909250505064ffffffffff81164311155b9193509193565b600054600160a01b900460ff16611b6b5760405162461bcd60e51b815260206004820152600a6024820152696e6f20656e656d69657360b01b6044820152606401610c23565b6004546001600160a01b031663a9947029611b846120f3565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015611bc8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bec9190612705565b600003611c295760405162461bcd60e51b815260206004820152600b60248201526a1b995959081c1b185b995d60aa1b6044820152606401610c23565b600060056000611c376120f3565b6001600160a01b03168152602080820192909252604090810160002081516060810183528154815260019091015464ffffffffff811693820193909352600160281b90920460ff1615801591830191909152909150611d06577f00000000000000000000000000000000000000000000000000000000000000008160200151611cc091906126ce565b64ffffffffff164311611d065760405162461bcd60e51b815260206004820152600e60248201526d30b1ba34bb329039b2b9b9b4b7b760911b6044820152606401610c23565b60078054906000611d16836126ec565b91905055506000611d2561214d565b905060405180606001604052808281526020014364ffffffffff1681526020016001151581525060056000611d586120f3565b6001600160a01b03168152602080820192909252604090810160002083518155918301516001909201805493909101511515600160281b0265ffffffffffff1990931664ffffffffff909216919091179190911790555050565b6060611dbf61073a6120f3565b905090565b611dcc61207a565b60008160ff1611611e115760405162461bcd60e51b815260206004820152600f60248201526e0656e656d79207479706573203d203608c1b6044820152606401610c23565b6000805460ff909216600160a01b0260ff60a01b19909216919091179055565b611e3961207a565b6001600160a01b038116611e9e5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610c23565b611ea7816120fd565b50565b6000806000600360149054906101000a900460ff16611ede5750642e90edd000926503a35294400092506429e8d608009150565b600160009054906101000a90046001600160a01b03166001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa925050508015611f4d575060408051601f3d908101601f19168201909252611f4a9181019061281a565b60015b611f5e57642e90edd0009250611f66565b509195505050505b600260009054906101000a90046001600160a01b03166001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa925050508015611fd5575060408051601f3d908101601f19168201909252611fd29181019061281a565b60015b611fe7576503a3529440009150611fef565b509194505050505b600360009054906101000a90046001600160a01b03166001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa92505050801561205e575060408051601f3d908101601f1916820190925261205b9181019061281a565b60015b61206e57506429e8d60800909192565b50919350505050909192565b6120826120f3565b6001600160a01b031661209d6000546001600160a01b031690565b6001600160a01b0316146110f15760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610c23565b6000611dbf6121e6565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60008060008061215b611eaa565b9194509250905061216d6001436127b8565b40446121776120f3565b6007546040805160208101959095528401929092526bffffffffffffffffffffffff19606091821b169083015260748201526094810184905260b4810183905260d481018290524260f48201526101140160405160208183030381529060405280519060200120935050505090565b6000366014336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480156122235750808210155b156122535760003661223583856127b8565b61224092829061286a565b61224991612894565b60601c9250505090565b339250505090565b82805482825590600052602060002090601f016020900481019282156122f15791602002820160005b838211156122c257835183826101000a81548160ff021916908360ff1602179055509260200192600101602081600001049283019260010302612284565b80156122ef5782816101000a81549060ff02191690556001016020816000010492830192600103026122c2565b505b506122fd929150612301565b5090565b5b808211156122fd5760008155600101612302565b80356001600160a01b038116811461232d57600080fd5b919050565b6000806040838503121561234557600080fd5b61234e83612316565b946020939093013593505050565b600081518084526020808501945080840160005b8381101561238f57815160ff1687529582019590820190600101612370565b509495945050505050565b848152600064ffffffffff8086166020840152808516604084015250608060608301526123ca608083018461235c565b9695505050505050565b6000602082840312156123e657600080fd5b5035919050565b600081518084526020808501945080840160005b8381101561238f57815187529582019590820190600101612401565b851515815260ff8516602082015283604082015260a06060820152600061244760a08301856123ed565b828103608084015261245981856123ed565b98975050505050505050565b60006020828403121561247757600080fd5b61248082612316565b9392505050565b60008060006060848603121561249c57600080fd5b6124a584612316565b92506124b360208501612316565b91506124c160408501612316565b90509250925092565b803560ff8116811461232d57600080fd5b6000602082840312156124ed57600080fd5b612480826124ca565b6000806040838503121561250957600080fd5b82359150612519602084016124ca565b90509250929050565b60008060006060848603121561253757600080fd5b8335925061254760208501612316565b91506124c1604085016124ca565b6000806020838503121561256857600080fd5b823567ffffffffffffffff8082111561258057600080fd5b818501915085601f83011261259457600080fd5b8135818111156125a357600080fd5b8660208260051b85010111156125b857600080fd5b60209290920196919550909350505050565b600080604083850312156125dd57600080fd5b8235915061251960208401612316565b60208152600061248060208301846123ed565b602081526000612480602083018461235c565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600060ff821660ff810361266b5761266b61263f565b60010192915050565b808202811582820484141761268b5761268b61263f565b92915050565b634e487b7160e01b600052601260045260246000fd5b6000826126b6576126b6612691565b500490565b8082018082111561268b5761268b61263f565b64ffffffffff8181168382160190808211156118925761189261263f565b6000600182016126fe576126fe61263f565b5060010190565b60006020828403121561271757600080fd5b5051919050565b8183526000602080850194508260005b8581101561238f5760ff612741836124ca565b168752958201959082019060010161272e565b8481528360208201526060604082015260006123ca60608301848661271e565b868152600064ffffffffff808816602084015280871660408401525060a060608301526127a560a08301858761271e565b9050826080830152979650505050505050565b8181038181111561268b5761268b61263f565b6000826127da576127da612691565b500690565b600061ffff8083168181036127f6576127f661263f565b6001019392505050565b805169ffffffffffffffffffff8116811461232d57600080fd5b600080600080600060a0868803121561283257600080fd5b61283b86612800565b945060208601519350604086015192506060860151915061285e60808701612800565b90509295509295909350565b6000808585111561287a57600080fd5b8386111561288757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156128c15780818660140360031b1b83161692505b50509291505056fea2646970667358221220973b41b1127078c711e125e57014cd30ff37deaade2771834f138b803affc93964736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 7,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 357,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "enemyTypesCount",
        "offset": 20,
        "slot": "0",
        "type": "t_uint8"
      },
      {
        "astId": 360,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "ethPriceFeed",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(AggregatorV3Interface)317"
      },
      {
        "astId": 363,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "btcPriceFeed",
        "offset": 0,
        "slot": "2",
        "type": "t_contract(AggregatorV3Interface)317"
      },
      {
        "astId": 366,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "pufEthPriceFeed",
        "offset": 0,
        "slot": "3",
        "type": "t_contract(AggregatorV3Interface)317"
      },
      {
        "astId": 368,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "priceFeedsEnabled",
        "offset": 20,
        "slot": "3",
        "type": "t_bool"
      },
      {
        "astId": 371,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "planetNFT",
        "offset": 0,
        "slot": "4",
        "type": "t_contract(IPlanetNFT)343"
      },
      {
        "astId": 399,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "_activeSession",
        "offset": 0,
        "slot": "5",
        "type": "t_mapping(t_address,t_struct(Session)384_storage)"
      },
      {
        "astId": 405,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "_plays",
        "offset": 0,
        "slot": "6",
        "type": "t_mapping(t_address,t_array(t_struct(Play)394_storage)dyn_storage)"
      },
      {
        "astId": 407,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "_nonce",
        "offset": 0,
        "slot": "7",
        "type": "t_uint256"
      },
      {
        "astId": 413,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "dailyDefeats",
        "offset": 0,
        "slot": "8",
        "type": "t_mapping(t_uint256,t_mapping(t_uint8,t_uint256))"
      },
      {
        "astId": 417,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "totalStaked",
        "offset": 0,
        "slot": "9",
        "type": "t_mapping(t_uint256,t_uint256)"
      },
      {
        "astId": 423,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "stakedPerCoin",
        "offset": 0,
        "slot": "10",
        "type": "t_mapping(t_uint256,t_mapping(t_uint8,t_uint256))"
      },
      {
        "astId": 431,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "userStakePerCoin",
        "offset": 0,
        "slot": "11",
        "type": "t_mapping(t_uint256,t_mapping(t_address,t_mapping(t_uint8,t_uint256)))"
      },
      {
        "astId": 435,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "daySettled",
        "offset": 0,
        "slot": "12",
        "type": "t_mapping(t_uint256,t_bool)"
      },
      {
        "astId": 439,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "dayWinningCoin",
        "offset": 0,
        "slot": "13",
        "type": "t_mapping(t_uint256,t_uint8)"
      },
      {
        "astId": 443,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "dayWinnersStake",
        "offset": 0,
        "slot": "14",
        "type": "t_mapping(t_uint256,t_uint256)"
      },
      {
        "astId": 447,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "dayPayoutPool",
        "offset": 0,
        "slot": "15",
        "type": "t_mapping(t_uint256,t_uint256)"
      },
      {
        "astId": 453,
        "contract": "contracts/GameEngine.sol:GameEngine",
        "label": "hasClaimed",
        "offset": 0,
        "slot": "16",
        "type": "t_mapping(t_uint256,t_mapping(t_address,t_bool))"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_struct(Play)394_storage)dyn_storage": {
        "base": "t_struct(Play)394_storage",
        "encoding": "dynamic_array",
        "label": "struct GameEngine.Play[]",
        "numberOfBytes": "32"
      },
      "t_array(t_uint8)dyn_storage": {
        "base": "t_uint8",
        "encoding": "dynamic_array",
        "label": "uint8[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_contract(AggregatorV3Interface)317": {
        "encoding": "inplace",
        "label": "contract AggregatorV3Interface",
        "numberOfBytes": "20"
      },
      "t_contract(IPlanetNFT)343": {
        "encoding": "inplace",
        "label": "contract IPlanetNFT",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_array(t_struct(Play)394_storage)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct GameEngine.Play[])",
        "numberOfBytes": "32",
        "value": "t_array(t_struct(Play)394_storage)dyn_storage"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_address,t_mapping(t_uint8,t_uint256))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(uint8 => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_uint8,t_uint256)"
      },
      "t_mapping(t_address,t_struct(Session)384_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct GameEngine.Session)",
        "numberOfBytes": "32",
        "value": "t_struct(Session)384_storage"
      },
      "t_mapping(t_uint256,t_bool)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_uint256,t_mapping(t_address,t_bool))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(address => bool))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_bool)"
      },
      "t_mapping(t_uint256,t_mapping(t_address,t_mapping(t_uint8,t_uint256)))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(address => mapping(uint8 => uint256)))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_mapping(t_uint8,t_uint256))"
      },
      "t_mapping(t_uint256,t_mapping(t_uint8,t_uint256))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(uint8 => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_uint8,t_uint256)"
      },
      "t_mapping(t_uint256,t_uint256)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_mapping(t_uint256,t_uint8)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => uint8)",
        "numberOfBytes": "32",
        "value": "t_uint8"
      },
      "t_mapping(t_uint8,t_uint256)": {
        "encoding": "mapping",
        "key": "t_uint8",
        "label": "mapping(uint8 => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_struct(Play)394_storage": {
        "encoding": "inplace",
        "label": "struct GameEngine.Play",
        "members": [
          {
            "astId": 386,
            "contract": "contracts/GameEngine.sol:GameEngine",
            "label": "seed",
            "offset": 0,
            "slot": "0",
            "type": "t_bytes32"
          },
          {
            "astId": 388,
            "contract": "contracts/GameEngine.sol:GameEngine",
            "label": "startBlock",
            "offset": 0,
            "slot": "1",
            "type": "t_uint40"
          },
          {
            "astId": 390,
            "contract": "contracts/GameEngine.sol:GameEngine",
            "label": "endBlock",
            "offset": 5,
            "slot": "1",
            "type": "t_uint40"
          },
          {
            "astId": 393,
            "contract": "contracts/GameEngine.sol:GameEngine",
            "label": "counts",
            "offset": 0,
            "slot": "2",
            "type": "t_array(t_uint8)dyn_storage"
          }
        ],
        "numberOfBytes": "96"
      },
      "t_struct(Session)384_storage": {
        "encoding": "inplace",
        "label": "struct GameEngine.Session",
        "members": [
          {
            "astId": 379,
            "contract": "contracts/GameEngine.sol:GameEngine",
            "label": "seed",
            "offset": 0,
            "slot": "0",
            "type": "t_bytes32"
          },
          {
            "astId": 381,
            "contract": "contracts/GameEngine.sol:GameEngine",
            "label": "startBlock",
            "offset": 0,
            "slot": "1",
            "type": "t_uint40"
          },
          {
            "astId": 383,
            "contract": "contracts/GameEngine.sol:GameEngine",
            "label": "exists",
            "offset": 5,
            "slot": "1",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "64"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint40": {
        "encoding": "inplace",
        "label": "uint40",
        "numberOfBytes": "5"
      },
      "t_uint8": {
        "encoding": "inplace",
        "label": "uint8",
        "numberOfBytes": "1"
      }
    }
  }
}